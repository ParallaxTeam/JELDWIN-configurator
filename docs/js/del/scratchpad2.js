m=viewer.impl.matman();
fl=viewer.model.getFragmentList();

var mat = {userassets : ["0"]};
mat.materials = {"0":{"tag":"PrismWood-037","definition":"PrismWood","transparent":false,"keywords":["Mahogany","Wood","3D Wood"],"categories":["Wood (Solid)/Finished"],"properties":{"strings":{"AssetLibID":{"values":["BA5EE55E-9982-449B-9D66-9F036540E140"]},"BaseSchema":{"values":["PrismWoodSchema"]},"UIName":{"values":["3D Mahogany - Glossy"]},"category":{"values":["Wood (Solid)/Finished"]},"description":{"values":["Mahogany"]},"keyword":{"values":["Mahogany","Wood","3D Wood"]},"surface_albedo_urn":{"values":[]},"surface_anisotropy_urn":{"values":[]},"surface_cutout_urn":{"values":[]},"surface_normal_urn":{"values":[]},"surface_rotation_urn":{"values":[]},"surface_roughness_urn":{"values":[]},"swatch":{"values":["Swatch-Torus"]}},"uris":{"thumbnail":{"values":["cloud/thumbnail/1/PrismWood-037.jpg"]}},"booleans":{"Hidden":{"values":[false]},"wood_diffuse_perlin_enable":{"values":[true]},"wood_earlycolor_perlin_enable":{"values":[true]},"wood_fiber_cosine_enable":{"values":[true]},"wood_fiber_perlin_enable":{"values":[true]},"wood_growth_perlin_enable":{"values":[true]},"wood_latecolor_perlin_enable":{"values":[true]},"wood_secondary_perlin_enable":{"values":[true]},"wood_use_groove_roughness":{"values":[true]},"wood_use_latewood_bump":{"values":[true]},"wood_use_manual_late_color":{"values":[false]},"wood_use_pores":{"values":[true]},"wood_use_rays":{"values":[true]}},"integers":{"interior_model":{"values":[4]},"revision":{"values":[1]},"version":{"values":[1]},"wood_ray_num_slices":{"values":[160]}},"scalars":{"surface_anisotropy":{"units":"","values":[0]},"surface_rotation":{"units":"","values":[0]},"surface_roughness":{"units":"","values":[0.16]},"wood_diffuse_lobe_weight":{"units":"","values":[0.85]},"wood_diffuse_perlin_prof":{"units":"","values":[0.05,0.15,0.1,0.2,3,0.05]},"wood_diffuse_perlin_scale_z":{"units":"","values":[0.15]},"wood_earlycolor_perlin_prof":{"units":"","values":[8,0.3,3,0.5]},"wood_earlywood_sharpness":{"units":"","values":[0.395]},"wood_fiber_cosine_prof":{"units":"","values":[15,2.5,4,0.5]},"wood_fiber_perlin_prof":{"units":"","values":[40,3,20,1,3.5,0.2]},"wood_fiber_perlin_scale_z":{"units":"","values":[0.3]},"wood_fiber_roughness":{"units":"","values":[0.25]},"wood_groove_roughness":{"units":"","values":[0.19]},"wood_growth_perlin_prof":{"units":"","values":[1,1,5,2,13,1]},"wood_late_color_power":{"units":"","values":[1.07]},"wood_latecolor_perlin_prof":{"units":"","values":[4.5,0.75]},"wood_latewood_bump_depth":{"units":"cm","values":[0.002]},"wood_latewood_ratio":{"units":"","values":[0.238]},"wood_latewood_sharpness":{"units":"","values":[0.109]},"wood_pore_cell_dim":{"units":"cm","values":[0.12]},"wood_pore_color_power":{"units":"","values":[2.13]},"wood_pore_depth":{"units":"cm","values":[0.01]},"wood_pore_radius":{"units":"cm","values":[0.04]},"wood_ray_color_power":{"units":"","values":[1.1]},"wood_ray_ellipse_radius_x":{"units":"cm","values":[0.2]},"wood_ray_ellipse_z2x":{"units":"","values":[10]},"wood_ray_seg_length_z":{"units":"cm","values":[5]},"wood_ring_thickness":{"units":"cm","values":[0.75]},"wood_secondary_color_power":{"units":"","values":[0.25]},"wood_secondary_perlin_prof":{"units":"","values":[0.5,0.5]},"wood_secondary_perlin_scale_z":{"units":"","values":[0.1]}},"colors":{"surface_albedo":{"values":[{"r":1,"g":1,"b":1,"a":1}]},"wood_early_color":{"values":[{"r":0.493814,"g":0.313724,"b":0.168879,"a":1}]},"wood_manual_late_color":{"values":[{"r":0.503867,"g":0.294902,"b":0.000514,"a":1}]}},"textures":{"surface_cutout":{},"surface_normal":{}},"choicelists":{"surface_ndf_type":{"values":[1]},"wood_pore_type":{"values":[0]}},"uuids":{"ExchangeGUID":{"values":[""]},"VersionGUID":{"values":["PrismWood-037"]}},"references":{}}}}

tm = m.convertOneMaterial(viewer.model, mat);
tm = m._materials["model:1|mat:undefined"];
app.frags.map(f=>fl.setMaterial(f, tm))

